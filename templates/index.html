<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='index_styles.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='navbar_styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <ul>
            <li><a href="{{ url_for('index') }}"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="{{ url_for('add_session') }}"><i class="fas fa-dumbbell"></i> Log Workout</a></li>
            <li><a href="{{ url_for('about') }}"><i class="fas fa-info-circle"></i> About</a></li>
        </ul>
    </nav>
    <div class="container">
        <h1>Home Page</h1>
        <p>Welcome to Gym Tracker!</p>
        <div class="statistics">
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar">
                    <span id="progress-text"></span>
                </div>
            </div>
            <p>Average workout duration: <span id="avg-duration">PLACEHOLDER</span></p>
            <p>Total weight lifted: <span id="total-weight">PLACEHOLDER</span></p>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const workoutsCompleted = 25; // TODO: Placeholder
            const goal = 25; // TODO: Placeholder
            const avgDuration = "45 minutes"; // TODO: Placeholder
            const totalWeight = 15000; // TODO: Placeholder

            document.getElementById("workouts-completed").innerText = workoutsCompleted;
            document.getElementById("goal").innerText = goal;
            document.getElementById("avg-duration").innerText = avgDuration;
            document.getElementById("total-weight").innerText = totalWeight + " kg";

            const progressBar = document.getElementById("progress-bar");
            const progress = (workoutsCompleted / goal) * 100;
            progressBar.style.width = progress + "%";

            if (progress >= 100) {
                progressBar.classList.add("full");
            }
            // TODO: celebration animation, currently placeholder
            if (document.getElementById("progress-bar").classList.contains("full")) {
                // TODO: impl fireworks.js possibly?
            }
        });
    </script>
</body>
</html>